/* src/components/ChatBox.css */
.chatbox {
  max-height: 60vh; /* Use max-height for flexibility */
  flex-grow: 1; /* Allow chatbox to fill available vertical space */
  overflow-y: auto; /* Use auto instead of scroll */
  border: none;
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 15px;
  display: flex;
  flex-direction: column;
  gap: 10px; /* Add gap between messages */

  /* --- THEME STYLES --- */
  /* Default (Light) Theme */
  background-color: var(
    --card-background-light,
    #f8f9fa
  ); /* Use variable with fallback */
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Responsive adjustment for smaller screens */
@media (max-width: 600px) {
  .chatbox {
    max-height: 40vh; /* Reduce max-height on smaller screens */
  }
}

/* Dark Theme Styles */
@media (prefers-color-scheme: dark) {
  /* Apply dark theme if body doesn't explicitly have data-theme="light" */
  body:not([data-theme="light"]) .chatbox {
    background-color: var(
      --card-background-dark,
      #212529
    ); /* Use dark card background variable */
    box-shadow: inset 0 1px 3px rgba(255, 255, 255, 0.05); /* Lighter inner shadow for dark */
  }
}

/* Dark Theme Styles */
@media (prefers-color-scheme: dark) {
  /* Apply dark theme if body doesn't explicitly have data-theme="light" */
  body:not([data-theme="light"]) .chatbox {
    background-color: var(
      --card-background-dark,
      #212529
    ); /* Use dark card background variable */
    box-shadow: inset 0 1px 3px rgba(255, 255, 255, 0.05); /* Lighter inner shadow for dark */
  }
}
/* Apply dark theme if body explicitly has data-theme="dark" */
body[data-theme="dark"] .chatbox {
  background-color: var(--card-background-dark, #212529);
  box-shadow: inset 0 1px 3px rgba(255, 255, 255, 0.05);
}
/* --- END THEME STYLES --- */

.message {
  /* margin-bottom: 10px; */ /* Removed due to gap */
  padding: 12px 18px; /* Slightly more padding */
  border-radius: 20px; /* Slightly larger radius */
  width: fit-content;
  max-width: 85%; /* Slightly wider max width */
  line-height: 1.5; /* Slightly increased line height */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Slightly stronger shadow */
  word-break: break-word; /* Ensure long words break */
}

/* --- User Message Theme Styles --- */
.user-message {
  /* Default (Light) */
  background-color: var(--primary-color-light, #007bff); /* Use primary color */
  color: white; /* Usually white text on primary */
  align-self: flex-end;
  border-bottom-right-radius: 8px; /* Adjust corner radius */
  box-shadow: 0 2px 5px rgba(0, 123, 255, 0.2); /* Shadow matching primary color */
}
@media (prefers-color-scheme: dark) {
  body:not([data-theme="light"]) .user-message {
    background-color: var(--primary-color-dark, #4a4e69); /* Use dark primary */
    box-shadow: 0 2px 5px rgba(74, 78, 105, 0.3); /* Shadow matching dark primary */
  }
}
body[data-theme="dark"] .user-message {
  background-color: var(--primary-color-dark, #4a4e69);
  box-shadow: 0 2px 5px rgba(74, 78, 105, 0.3);
}
/* --- END User Message Theme Styles --- */

/* --- ADA Message Theme Styles --- */
.ada-message {
  /* Default (Light) */
  background-color: var(--background-color-light, #e9ecef); /* Use light background */
  color: var(--text-color-light, #212529); /* Use text color */
  align-self: flex-start;
  border-bottom-left-radius: 8px; /* Adjust corner radius */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08); /* Subtle shadow */
}
@media (prefers-color-scheme: dark) {
  body:not([data-theme="light"]) .ada-message {
    background-color: var(
      --background-color-dark,
      #343a40
    ); /* Use dark background */
    color: var(--text-color-dark, #e9ecef); /* Use dark text color */
    box-shadow: 0 2px 5px rgba(255, 255, 255, 0.05); /* Subtle light shadow */
  }
}
body[data-theme="dark"] .ada-message {
  background-color: var(--background-color-dark, #343a40);
  color: var(--text-color-dark, #e9ecef);
  box-shadow: 0 2px 5px rgba(255, 255, 255, 0.05);
}
/* --- END ADA Message Theme Styles --- */

.message span {
  display: block;
}
